CREATE TABLE GENRE (
  ID             INT         NOT NULL GENERATED by default AS IDENTITY PRIMARY KEY
  ,  GENRE_TYPE  INT NOT NULL
);

CREATE TABLE ITEM (
      ID            INT           NOT NULL GENERATED by default AS IDENTITY PRIMARY KEY
      , ITEMID        VARCHAR(40)   NOT NULL CONSTRAINT itemid_UC UNIQUE
      , IMAGE       VARCHAR(255)  NOT NULL
      , TITLE       VARCHAR(255)  NOT NULL
      , DESCRIPTION VARCHAR(1024)
      , GENRE_ID    INT           CONSTRAINT IT_GENRE_FK REFERENCES GENRE
      , PRICE       FLOAT
      , DISCOUNT    FLOAT
);

CREATE TABLE ARTIST (
  ID               INT           NOT NULL GENERATED by default AS IDENTITY PRIMARY KEY
  ,  FIRSTNAME     VARCHAR(50)
  ,  LASTNAME      VARCHAR(50)   NOT NULL
  ,  BIO           VARCHAR(4000)
  ,  IMAGE_URL     VARCHAR(200)
);

CREATE TABLE ITEM_ARTIST (
  ITEM_ID     INT    NOT NULL CONSTRAINT ia_item_FK REFERENCES ITEM
  , ARTIST_ID INT    NOT NULL CONSTRAINT ia_art_FK REFERENCES ARTIST
  , PRIMARY KEY (ITEM_ID, ARTIST_ID)
);

CREATE TABLE REVIEW (
  ID                INT           NOT NULL GENERATED by default AS IDENTITY PRIMARY KEY
  ,  ITEM_ID        INT           CONSTRAINT REV_IT_FK REFERENCES ITEM
  ,  USERNAME       VARCHAR(20)   NOT NULL
  ,  ITEMID         VARCHAR(40)   NOT NULL
  ,  TEXT           VARCHAR(2048) NOT NULL
  ,  DATE_OF_REVIEW VARCHAR(255)
);
